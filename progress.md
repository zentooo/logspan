# 開発進捗管理

## フェーズ1: 基本機能の実装

### 1.1 プロジェクトの初期セットアップ
- [x] リポジトリの作成
- [x] 基本的なパッケージ構造の設定
- [x] 依存関係の管理（`go.mod`）

### 1.2 コアインターフェースの実装
- [x] `Logger` インターフェースの定義
- [x] `LogEntry` 構造体の実装
- [x] 基本的な設定構造体（`Config`）の実装
- [x] JSONフィールド名の統一（小文字化：timestamp, level, message, fields, tags）

### 1.3 ダイレクトロガーの実装
- [x] 即時出力機能の実装
- [x] 基本的なログレベル（Debug, Info, Warn, Error, Critical）のサポート
- [x] ログレベルによるフィルター機能の実装
- [x] 構造化ログ出力への対応（context loggerと同じJSON形式、常にlines=1エントリ）
- [x] DirectLoggerのユニットテストの作成
  - [x] 1. 基本的なログ出力のテスト
  - [x] 2. ログレベルフィルタリングのテスト
  - [x] 3. 出力先設定のテスト
  - [x] 4. 並行処理安全性のテスト
  - [x] 5. エラーケースのテスト
  - [x] 6. 構造化ログ出力のテスト

## フェーズ2: コンテキストロガーの実装

### 2.1 コンテキスト管理機能
- [x] `context.Context` との連携機能
- [x] ログの集約機能の実装
- [x] コンテキストへのロガー注入・取得機能

### 2.2 ログフォーマッターの実装
- [ ] JSONフォーマッターの基本実装
- [ ] カスタムフォーマッターのインターフェース設計

## フェーズ3: 拡張機能の実装

### 3.1 ミドルウェア機構
- [ ] ミドルウェアインターフェースの実装
- [ ] 基本的なミドルウェアの実装（例：パスワードマスキング）

### 3.2 DataDog連携
- [ ] DataDog Standard Attributes対応
- [ ] フォーマッターの拡張

## フェーズ4: HTTPミドルウェアとテスト

### 4.1 HTTPミドルウェア
- [ ] リクエストコンテキストの自動セットアップ
- [ ] 基本的なHTTPリクエスト情報の収集

### 4.2 テストとドキュメント
- [ ] ユニットテストの作成
- [ ] 統合テストの作成
- [ ] ドキュメントの整備

## フェーズ5: 最適化とリリース準備

### 5.1 パフォーマンス最適化
- [ ] メモリ使用量の最適化
- [ ] ログ出力の非同期処理の実装

### 5.2 リリース準備
- [ ] サンプルコードの作成
- [ ] READMEの整備
- [ ] バージョン管理の設定

## 技術的な注意点

### エラーハンドリング
- [ ] 適切なエラー型の定義
- [ ] エラーメッセージの国際化対応

### パフォーマンス
- [ ] ログ出力の非同期処理
- [ ] メモリプールの活用

### テスト容易性
- [ ] インターフェースの適切な設計
- [ ] モック可能な構造

### 後方互換性
- [ ] 既存の `logone-go` との互換性維持
- [ ] 段階的な機能追加

## 進捗状況

- 開始日: [未設定]
- 現在のフェーズ: フェーズ2
- 完了タスク数: 6
- 残りタスク数: 28