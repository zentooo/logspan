# LogSpan ドキュメント更新タスク

## タスク概要
現状のコードの実態に合わせて、.mdcとREADMEを更新する

## プランニング

### 現状分析
- 実際のコード構成を調査済み
- 主要な差異を特定：
  1. パスワードマスキングミドルウェアが追加されている
  2. PrettifyJSON設定が追加されている
  3. LogLevel型とその関連機能が独立したファイルに分離されている
  4. フィールド管理の実装が異なる
  5. APIの一部が変更されている

### サブタスク

#### 1. 実際のコード構成の詳細調査
- [x] 1-1. 全ての主要ファイルの内容を確認
- [x] 1-2. 実際のAPI構造を把握
- [x] 1-3. 新機能（パスワードマスキング等）の詳細を確認
- [x] 1-4. 設定オプションの変更点を確認

#### 2. .mdc（ワークスペースルール）の更新
- [x] 2-1. API Usage Guideの更新
- [x] 2-2. Log Format Guideの更新
- [x] 2-3. Project Structure Guideの更新

#### 3. README.mdの更新
- [x] 3-1. 新機能（パスワードマスキング）の追加
- [x] 3-2. 設定オプション（PrettifyJSON）の追加
- [x] 3-3. APIの変更点を反映
- [x] 3-4. サンプルコードの更新
- [x] 3-5. パッケージ構成図の更新

#### 4. 検証とテスト
- [x] 4-1. 更新されたドキュメントの内容確認
- [x] 4-2. サンプルコードの動作確認
- [x] 4-3. 最終チェック

## 実行方針
- 一つずつサブタスクを実行
- 実際のコードとの整合性を重視
- 新機能の説明を充実させる
- 既存の良い部分は保持する

## 完了報告

### 更新内容
1. **ワークスペースルール（.mdc）の更新**:
   - API Usage Guide: 実際のAPIに合わせて全面更新
   - Log Format Guide: 実際の出力形式とパスワードマスキング機能を反映
   - Project Structure Guide: 実際のファイル構成と新機能を反映

2. **README.mdの更新**:
   - パスワードマスキングミドルウェアの詳細説明を追加
   - PrettifyJSON設定オプションの説明を追加
   - APIの変更点（AddField → AddContextValue）を反映
   - サンプルコードを実際のAPIに合わせて修正
   - パッケージ構成図を実際の構成に更新

3. **検証結果**:
   - コンテキストロガーのサンプル: 正常動作確認
   - 全テスト: 正常通過確認
   - ドキュメントの整合性: 実際のコードと一致

### 主要な改善点
- 実際のコード実装との完全な整合性を実現
- 新機能（パスワードマスキング、PrettifyJSON）の詳細説明
- より正確で使いやすいAPI説明
- 実際のファイル構成を反映したプロジェクト構造図

タスク完了: ✅
